---
layout: default
title: Optical Illusions with CSS and Javascript
meta_description: Optical Illusions using CSS and plain Javascript
page_css: optical-illusions-1.css
syntax_highlight: true
comments: true
---

<h1 class="text-center p-5">Optical Illusions</h1>
<p class="text-center">An attempt to create optical illusions with CSS and JS. Wikipedia  <a href ="https://en.wikipedia.org/wiki/Grid_illusion" target="_blank">link</a></p>
<h4>1. Hermann Grid Illusion</h4>
<div id="hermann-grid">
</div>

<strong>Idea:</strong>
<p>We could achieve this by placing a number of square div elements inside a container div with uniform spacing.</p>
<strong>Implementation</strong>
<p>
    Add a container div with relatively large width and height. Append a series of square divs via a JS function as children to the container div. A div is a block element hence it should be arranged inline. We can accomplish this in two ways:
    <ol>
        <li>
            Using <code>display: inline-block'</code> on individual divs.
        </li>
        <li>
            or Using flexbox <code>display: flex; flex-wrap: wrap;</code> on the container div.
        </li>
    </ol> 

</p>
<strong>JS Function </strong>
<pre>
    <code class="javascript">
        var hermann = document.getElementById('hermann-grid');
        var hermannSquare = document.createElement('div');
        hermannSquare.className = "hermann-square";
        hermann.appendChild(hermannSquare);
    </code>
</pre>
<strong>CSS gotcha:</strong>
<p>When using <code>display: inline-block'</code>, you run into <a href="https://css-tricks.com/fighting-the-space-between-inline-block-elements/" target="_blank">this</a> gotcha that adds some extra space inbetween the divs. Use <a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" target="_blank">flexbox</a> to avoid it.</code></p>

<h4>2. Scintillating grid Illusion</h4>
<div id="scintillating-grid">
</div>

<h4>3. Cafe Wall</h4>
Wikipedia  <a href ="https://en.wikipedia.org/wiki/Caf%C3%A9_wall_illusion" target="_blank">link</a>
<div id="cafe-wall">
    <div class="cafe-wall-row"></div>
    <div class="cafe-wall-row"></div>
    <div class="cafe-wall-row"></div>
    <div class="cafe-wall-row"></div>
    <div class="cafe-wall-row"></div>
    <div class="cafe-wall-row"></div>
    <div class="cafe-wall-row"></div>
    <div class="cafe-wall-row"></div>
</div>

<h4>4. Ebbinghaus illusion</h4>
Wikipedia  <a href ="https://en.wikipedia.org/wiki/Ebbinghaus_illusion" target="_blank">link</a>
<div id="ebbinghaus-container">
    <div id="big-flower">
        <div id="petal1"></div>
        <div id="stigma1"></div>
        <div id="petal2"></div>
    </div>
    <div id="small-flower">
        <div id="stigma2"></div>
        <div id="petalA"></div>
        <div id="petalB"></div>
        <div id="petalC"></div>
    </div>
</div>

<script type="text/javascript">
    (function() {
        var hermann = document.getElementById('hermann-grid');
        var scintillating = document.getElementById('scintillating-grid');
        for(var i = 0; i < 36; i++) {
            var hermannSquare = document.createElement('div');
            hermannSquare.className = "hermann-square";
            hermann.appendChild(hermannSquare);
            var scintillatingSquare = document.createElement('div');
            scintillatingSquare.className = "scintillating-square";
            scintillating.appendChild(scintillatingSquare);
        }
        // Cafe Wall Illusion
        var cafeWallRows = document.getElementsByClassName('cafe-wall-row');
        for (var i = 0; i < cafeWallRows.length; i++) {
            var currentRow = cafeWallRows[i];
            for(var j = 0; j < 13; j++) {
                var cafeWallTile = document.createElement('div');
                var cssClasses = ["cafe-wall-tile"];
                if (j % 2 === 1) {
                    cssClasses.push("odd");
                }
                cafeWallTile.className = cssClasses.join(' ');
                currentRow.appendChild(cafeWallTile);
            }
        }
        
    })();
</script>
